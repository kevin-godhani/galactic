import React, { useRef, useEffect } from "react";
import gsap from 'gsap';

const ScrollButtonIcon = () => {
    const scrollBtnBgOuterRef = useRef(null);
    const scrollBtnBgInnerRef = useRef(null);

    useEffect(() => {
        const scrollBtnBgInner = scrollBtnBgInnerRef?.current;
        const scrollBtnBgOuter = scrollBtnBgOuterRef?.current;
        if (scrollBtnBgOuterRef.current && scrollBtnBgInnerRef.current) {
            gsap.set([scrollBtnBgOuterRef.current, scrollBtnBgInnerRef.current], { transformOrigin: '50% 50%' });

            gsap.to(scrollBtnBgOuterRef.current, { duration: 0.8, scale: 1.17, delay: 0.1333, yoyo: true, repeat: -1 });
            gsap.to(scrollBtnBgInnerRef.current, { duration: 0.8, scale: 1.2, yoyo: true, repeat: -1 });
        }

        return () => {
            if (scrollBtnBgInner && scrollBtnBgOuter) {
                gsap.killTweensOf([scrollBtnBgOuter, scrollBtnBgInner]);
                gsap.set([scrollBtnBgOuter, scrollBtnBgInner], { scale:1 });
            }
        }
    }, []);

    return (
        <svg className="scroll-button" width="111" height="156" viewBox="0 0 111 156" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g ref={scrollBtnBgOuterRef} className="scroll-button-bg-outer">
                <circle cx="55.4329" cy="55.4312" r="46.3508" transform="rotate(3.61711 55.4329 55.4312)" fill="url(#paint0_linear_313_7232)" fillOpacity="0.3"/>
            </g>
            <g ref={scrollBtnBgInnerRef} className="scroll-button-bg-inner">
                <circle cx="55.4332" cy="55.4312" r="35.9349" transform="rotate(3.61711 55.4332 55.4312)" fill="url(#paint1_linear_313_7232)" fillOpacity="0.6"/>
            </g>
            <path d="M1.0359 54.9465C1.1713 40.5133 7.03476 26.7249 17.3364 16.6148C27.638 6.50464 41.5339 0.900893 55.9672 1.0363C70.4005 1.1717 84.1889 7.03516 94.299 17.3368C104.409 27.6384 110.013 41.5343 109.877 55.9676" stroke="url(#paint2_linear_313_7232)" strokeOpacity="0.5" strokeWidth="1.04159" strokeLinecap="round"/>

            <path className="scroll-button-arrow" d="M57.3489 62.2915L57.3427 63.3949L58.1984 62.6983L67.9446 54.7656L68.4684 55.6239L57.0142 64.9948L57.2016 44.3038L57.4506 44.3036L57.3489 62.2915Z" stroke="url(#paint3_linear_313_7232)" strokeOpacity="0.5" strokeWidth="1.04159" strokeLinecap="round"/>
            <path className="scroll-button-arrow" d="M54.6335 62.2915L54.6398 63.3949L53.784 62.6983L44.0378 54.7656L43.514 55.6239L54.9682 64.9948L54.7809 44.3038L54.5319 44.3036L54.6335 62.2915Z" stroke="url(#paint4_linear_313_7232)" strokeOpacity="0.5" strokeWidth="1.04159" strokeLinecap="round"/>

            <path d="M21.0553 106.307L22.8788 107.465C22.7204 107.794 22.6828 108.162 22.7658 108.568C22.8636 108.971 23.0693 109.374 23.3831 109.775C23.7026 110.167 24.1144 110.524 24.6187 110.844C25.078 111.135 25.4876 111.326 25.8477 111.416C26.2077 111.505 26.517 111.506 26.7754 111.417C27.0338 111.328 27.2431 111.158 27.4032 110.906C27.5575 110.663 27.5847 110.421 27.4846 110.181C27.3903 109.931 27.1752 109.643 26.8395 109.316C26.5094 108.98 26.0578 108.567 25.4846 108.077C25.0351 107.69 24.6297 107.294 24.2685 106.888C23.913 106.473 23.63 106.053 23.4193 105.628C23.2176 105.21 23.112 104.789 23.1026 104.366C23.1079 103.94 23.242 103.52 23.505 103.105C23.8309 102.592 24.2608 102.233 24.7948 102.029C25.3378 101.831 25.9661 101.806 26.6796 101.956C27.3932 102.106 28.1687 102.446 29.0061 102.978C30.2668 103.779 31.0634 104.663 31.3957 105.632C31.7428 106.598 31.61 107.544 30.9974 108.469L29.2414 107.354C29.5427 106.8 29.5606 106.274 29.295 105.777C29.0384 105.286 28.5994 104.843 27.9781 104.448C27.4018 104.082 26.8702 103.865 26.3834 103.796C25.9055 103.732 25.5351 103.908 25.2721 104.322C25.1692 104.484 25.1228 104.657 25.1328 104.84C25.1485 105.014 25.2358 105.215 25.3948 105.442C25.5537 105.67 25.7921 105.941 26.1098 106.256C26.4276 106.572 26.8354 106.944 27.3332 107.374C27.8008 107.772 28.2016 108.166 28.5358 108.555C28.8847 108.941 29.1449 109.327 29.3163 109.714C29.5024 110.097 29.5821 110.489 29.5556 110.889C29.529 111.289 29.3785 111.705 29.104 112.137C28.7667 112.669 28.3327 113.044 27.802 113.263C27.286 113.479 26.6712 113.512 25.9577 113.362C25.2532 113.218 24.4461 112.857 23.5366 112.279C22.8883 111.868 22.3593 111.437 21.9498 110.988C21.546 110.529 21.2383 110.069 21.0268 109.606C20.8152 109.143 20.6855 108.7 20.6376 108.278C20.5897 107.856 20.6049 107.474 20.6831 107.132C20.7703 106.796 20.8943 106.521 21.0553 106.307Z" fill="white"/>
            <path d="M43.8342 116.767C43.4826 117.527 42.982 118.109 42.3324 118.513C41.6827 118.916 40.9093 119.133 40.0122 119.163C39.1151 119.193 38.1144 119.027 37.0101 118.663C36.0882 118.359 35.2773 117.974 34.5775 117.507C33.8878 117.044 33.3345 116.508 32.9175 115.899C32.5106 115.293 32.2587 114.626 32.1618 113.898C32.0682 113.159 32.1616 112.365 32.442 111.514C32.7224 110.663 33.1198 109.968 33.634 109.43C34.1483 108.892 34.749 108.5 35.4363 108.255C36.137 108.003 36.9024 107.896 37.7323 107.934C38.5757 107.964 39.4583 108.132 40.3802 108.436C41.4845 108.799 42.3867 109.265 43.0869 109.833C43.7972 110.404 44.2919 111.05 44.5709 111.771C44.8533 112.481 44.9032 113.25 44.7205 114.077L42.7146 113.416C42.7231 112.948 42.6204 112.509 42.4065 112.102C42.2061 111.688 41.8894 111.319 41.4566 110.997C41.0237 110.675 40.473 110.403 39.8043 110.183C38.9736 109.909 38.2008 109.801 37.4859 109.857C36.7743 109.903 36.1628 110.123 35.6515 110.516C35.1435 110.899 34.7676 111.46 34.5239 112.2C34.2835 112.929 34.2538 113.599 34.4346 114.209C34.6155 114.819 34.9766 115.359 35.5179 115.829C36.0626 116.29 36.7502 116.657 37.581 116.93C38.2496 117.151 38.8487 117.258 39.3783 117.253C39.9179 117.251 40.3898 117.148 40.7939 116.945C41.2081 116.744 41.5529 116.465 41.8283 116.106L43.8342 116.767Z" fill="white"/>
            <path d="M46.9938 121.096L47.5303 110.758L54.5449 111.122C55.3438 111.164 56.0304 111.311 56.6047 111.565C57.1902 111.809 57.6358 112.174 57.9417 112.66C58.2482 113.135 58.3826 113.735 58.345 114.46C58.3196 114.95 58.2128 115.361 58.0247 115.693C57.8366 116.025 57.5825 116.289 57.2625 116.486C56.9532 116.684 56.5985 116.831 56.1982 116.928C55.7986 117.014 55.3742 117.061 54.9252 117.07L54.7081 116.93C55.4532 116.98 56.0624 117.075 56.5357 117.217C57.0095 117.349 57.3558 117.57 57.5747 117.88C57.8048 118.181 57.9049 118.618 57.8751 119.194L57.7474 121.654L55.6222 121.544L55.7425 119.227C55.7629 118.833 55.7094 118.526 55.582 118.306C55.4551 118.075 55.2128 117.907 54.8551 117.803C54.508 117.7 53.9989 117.631 53.3278 117.596L49.3172 117.388L49.119 121.206L46.9938 121.096ZM49.4034 115.726L54.2928 115.98C54.8893 116.011 55.3495 115.89 55.6734 115.619C56.0079 115.348 56.1878 114.967 56.2133 114.477C56.2376 114.008 56.0963 113.643 55.7895 113.382C55.4933 113.121 55.0469 112.975 54.4504 112.944L49.5609 112.69L49.4034 115.726Z" fill="white"/>
            <path d="M68.4137 120.362C67.068 120.649 65.8707 120.686 64.822 120.474C63.7814 120.249 62.9221 119.799 62.2441 119.126C61.5765 118.45 61.1259 117.565 60.8922 116.47C60.6564 115.364 60.7054 114.366 61.0392 113.477C61.3835 112.586 61.9858 111.83 62.8461 111.21C63.7146 110.578 64.8218 110.118 66.1675 109.831C67.5237 109.542 68.722 109.51 69.7625 109.735C70.8009 109.95 71.6538 110.395 72.3214 111.071C72.9995 111.744 73.4564 112.634 73.6923 113.739C73.9259 114.835 73.8706 115.828 73.5263 116.72C73.1925 117.609 72.5965 118.368 71.7384 118.999C70.8781 119.618 69.7699 120.073 68.4137 120.362ZM68.0299 118.563C68.8644 118.385 69.568 118.104 70.1405 117.72C70.7234 117.334 71.1377 116.847 71.3834 116.26C71.6395 115.671 71.6841 114.986 71.5172 114.203C71.3503 113.421 71.0298 112.813 70.5557 112.38C70.092 111.944 69.5152 111.669 68.8255 111.555C68.1439 111.427 67.3859 111.453 66.5513 111.631C65.7272 111.806 65.0195 112.094 64.4284 112.492C63.835 112.881 63.4103 113.369 63.1542 113.958C62.8981 114.547 62.8535 115.233 63.0204 116.016C63.1872 116.798 63.5077 117.406 63.9819 117.839C64.456 118.272 65.0432 118.545 65.7434 118.658C66.4436 118.77 67.2057 118.738 68.0299 118.563Z" fill="white"/>
            <path d="M75.4732 107.146L79.1651 114.886L85.3749 111.925L86.1395 113.528L78.0089 117.406L73.5525 108.062L75.4732 107.146Z" fill="white"/>
            <path d="M84.1562 102.352L89.331 109.19L94.8173 105.039L95.889 106.455L88.7057 111.891L82.4592 103.636L84.1562 102.352Z" fill="white"/>
            <defs>
                <linearGradient id="paint0_linear_313_7232" x1="79.6499" y1="20.5379" x2="29.9139" y2="90.8454" gradientUnits="userSpaceOnUse">
                <stop stopColor="#7B64DC"/>
                <stop offset="1" stopColor="#A46BBA"/>
                </linearGradient>
                <linearGradient id="paint1_linear_313_7232" x1="77.8274" y1="25.225" x2="31.737" y2="87.1998" gradientUnits="userSpaceOnUse">
                <stop stopColor="#A36ABC"/>
                <stop offset="1" stopColor="#7B64DC"/>
                </linearGradient>
                <linearGradient id="paint2_linear_313_7232" x1="50.0455" y1="-1.43299" x2="64.0437" y2="107.499" gradientUnits="userSpaceOnUse">
                <stop stopColor="white"/>
                <stop offset="1" stopColor="white" stopOpacity="0"/>
                </linearGradient>
                <linearGradient id="paint3_linear_313_7232" x1="55.4492" y1="44.2574" x2="56.0947" y2="64.7371" gradientUnits="userSpaceOnUse">
                <stop stopColor="white" stopOpacity="0.2"/>
                <stop offset="1" stopColor="white"/>
                </linearGradient>
                <linearGradient id="paint4_linear_313_7232" x1="56.5332" y1="44.2574" x2="55.8877" y2="64.7371" gradientUnits="userSpaceOnUse">
                <stop stopColor="white"/>
                <stop offset="1" stopColor="white" stopOpacity="0"/>
                <stop offset="1" stopColor="white" stopOpacity="0.2"/>
                </linearGradient>
            </defs>
        </svg>
    );
};

export default ScrollButtonIcon;